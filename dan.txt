-- üèÜ HUD DEL NIVEL (efecto ne√≥n con espera y actualizaci√≥n continua)
task.spawn(function()
	local player = game:GetService("Players").LocalPlayer
	local screenGui = Instance.new("ScreenGui")
	screenGui.Name = "LevelHUD"
	screenGui.ResetOnSpawn = false
	screenGui.IgnoreGuiInset = true
	screenGui.Parent = game:GetService("CoreGui")

	local levelLabel = Instance.new("TextLabel")
	levelLabel.Size = UDim2.new(1, 0, 0, 250)
	levelLabel.Position = UDim2.new(0, 0, 0.05, 0)
	levelLabel.BackgroundTransparency = 1
	levelLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	levelLabel.TextStrokeTransparency = 0
	levelLabel.Font = Enum.Font.GothamBlack
	levelLabel.TextScaled = true
	levelLabel.Text = "üèÜ Cargando nivel..."
	levelLabel.Parent = screenGui

	local uiStroke = Instance.new("UIStroke")
	uiStroke.Color = Color3.fromRGB(255, 0, 255)
	uiStroke.Thickness = 5
	uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Outside
	uiStroke.Parent = levelLabel

	local uiGradient = Instance.new("UIGradient")
	uiGradient.Color = ColorSequence.new{
		ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 255)),
		ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 255, 255)),
		ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 0))
	}
	uiGradient.Rotation = 90
	uiGradient.Parent = levelLabel

	task.spawn(function()
		while task.wait(0.05) do
			uiGradient.Rotation = (uiGradient.Rotation + 3) % 360
		end
	end)

	-- ‚è≥ Espera hasta que aparezca el leaderstats y Level
	local leaderstats
	local level
	for i = 1, 15 do
		leaderstats = player:FindFirstChild("leaderstats")
		if leaderstats then
			level = leaderstats:FindFirstChild("Level")
			if level then break end
		end
		task.wait(1)
	end

	if not level then
		levelLabel.Text = "‚ö†Ô∏è No se encontr√≥ el nivel"
		return
	end

	-- üìä Mostrar nivel inicial
	levelLabel.Text = "üèÜ Nivel: " .. tostring(level.Value)

	-- üîÅ Actualizar cada segundo (por si el objeto cambia o se reemplaza)
	task.spawn(function()
		while task.wait(1) do
			pcall(function()
				local ls = player:FindFirstChild("leaderstats")
				local lvl = ls and ls:FindFirstChild("Level")
				if lvl and tonumber(lvl.Value) then
					levelLabel.Text = "üèÜ Nivel: " .. tostring(lvl.Value)
				else
					levelLabel.Text = "üèÜ Nivel: --"
				end
			end)
		end
	end)
end)
