local _0x1a = loadstring(game:HttpGet("https://raw.githubusercontent.com/xHeptc/Kavo-UI-Library/main/source.lua"))()
local _0x2b = _0x1a.CreateLib("Auto TP Loop por Chat", "Ocean")
local _0x3c = _0x2b:NewTab("Main")
local _0x4d = _0x3c:NewSection("Todo activo automÃ¡ticamente")
local _0x5e = game:GetService("Players")
local _0x6f = _0x5e.LocalPlayer
local _0x7g = ""
local _0x8h = "atras"

local _0x9i = nil
local _0xAj = false
local _0xBk = 1800
local _0xCl = 25

local _0xDm = {"adelante","atras","derecha","izquierda","diag_adel_der","diag_adel_izq","diag_atras_der","diag_atras_izq"}

local function _0xEn()
	local _0xFo
	repeat _0xFo = _0xDm[math.random(1, #_0xDm)] until _0xFo ~= _0x8h
	_0x8h = _0xFo
	print("ðŸ“Œ Nueva direcciÃ³n de TP: " .. _0x8h)
end

local function _0xGp()
	if _0x7g == "" then return nil end
	local _0xHq = _0x5e:FindFirstChild(_0x7g)
	if not _0xHq then return nil end
	local _0xIr = _0xHq:FindFirstChild("leaderstats")
	if not _0xIr then return nil end
	local _0xJs = _0xIr:FindFirstChild("Level")
	if not _0xJs then return nil end
	return tonumber(_0xJs.Value)
end

local function _0xKt()
	pcall(function()
		local _0xLu = _0x6f.Character
		if _0xLu then
			local _0xMv = _0xLu:FindFirstChildOfClass("Humanoid")
			if _0xMv then _0xMv.Health = 0 end
		end
	end)
end

local _0xNw = game:GetService("ReplicatedStorage"):WaitForChild("DefaultChatSystemChatEvents")
_0xNw.OnMessageDoneFiltering.OnClientEvent:Connect(function(_0xOx)
	local _0xPy = _0xOx.FromSpeaker
	if _0xPy and _0xPy ~= _0x6f.Name then
		_0x7g = _0xPy
		task.spawn(function()
			task.wait(0.5)
			local _0xQz = _0xGp()
			if _0xQz then
				print("ðŸŽ¯ Objetivo detectado: " .. _0x7g .. " | Nivel: " .. tostring(_0xQz))
				if _0xQz < _0xBk then
					if not _0xAj then
						_0xAj = true
						print("âš ï¸ Nivel menor a " .. _0xBk .. " - Auto Reset ACTIVADO (cada " .. _0xCl .. "s)")
					end
				else
					_0xAj = false
					print("âœ… Nivel mayor o igual a " .. _0xBk .. " - Auto Reset DESACTIVADO")
				end
			else
				print("âš ï¸ No se pudo obtener el nivel de: " .. _0x7g)
			end
		end)
	end
end)

spawn(function()
	while true do
		task.wait(1)
		if _0xAj and _0x7g ~= "" then
			local _0xRa = _0xGp()
			if _0xRa then
				if _0xRa < _0xBk then
					print("â³ Auto Reset en " .. _0xCl .. " segundos... (Nivel objetivo: " .. tostring(_0xRa) .. ")")
					local _0xSb = _0xCl
					while _0xSb > 0 and _0xAj do
						task.wait(1)
						_0xSb = _0xSb - 1
						local _0xTc = _0xGp()
						if _0xTc and _0xTc >= _0xBk then
							_0xAj = false
							print("âœ… Nivel alcanzÃ³ " .. _0xBk .. " - Auto Reset CANCELADO")
							break
						end
					end
					if _0xAj then
						print("ðŸ”„ Ejecutando Auto Reset...")
						_0xKt()
					end
				else
					_0xAj = false
					print("âœ… Nivel ya es >= " .. _0xBk .. " - Auto Reset DESACTIVADO")
				end
			end
		end
	end
end)

spawn(function()
	while true do
		task.wait(5)
		if _0x7g ~= "" then
			local _0xUd = _0xGp()
			if _0xUd then
				if _0xUd < _0xBk and not _0xAj then
					_0xAj = true
					print("ðŸ”„ Re-activando Auto Reset - Nivel: " .. tostring(_0xUd))
				elseif _0xUd >= _0xBk and _0xAj then
					_0xAj = false
					print("âœ… Desactivando Auto Reset - Nivel: " .. tostring(_0xUd))
				end
			end
		end
	end
end)

_0x6f.CharacterAdded:Connect(function() task.wait(1) _0xEn() end)

for _, _0xVe in pairs(getconnections(_0x6f.Idled)) do _0xVe:Disable() end
_0x6f.Idled:Connect(function()
	game:GetService("VirtualUser"):Button2Down(Vector2.new(), workspace.CurrentCamera.CFrame)
	wait(1)
	game:GetService("VirtualUser"):Button2Up(Vector2.new(), workspace.CurrentCamera.CFrame)
end)

game:GetService("RunService").Stepped:Connect(function()
	local _0xWf = _0x6f.Character
	if _0xWf then
		for _, _0xXg in pairs(_0xWf:GetDescendants()) do
			if _0xXg:IsA("BasePart") then _0xXg.CanCollide = false end
		end
	end
end)

local _0xYh = nil
spawn(function()
	while true do
		task.wait()
		local _0xZi = _0x6f.Character
		if _0xZi and _0xZi:FindFirstChild("HumanoidRootPart") then
			local _0xAj2 = _0xZi.HumanoidRootPart
			if _0xAj2.AssemblyLinearVelocity.Magnitude > 250 or _0xAj2.AssemblyAngularVelocity.Magnitude > 250 then
				_0xAj2.AssemblyLinearVelocity = Vector3.zero
				_0xAj2.AssemblyAngularVelocity = Vector3.zero
				if _0xYh then _0xAj2.CFrame = _0xYh end
			elseif _0xAj2.AssemblyLinearVelocity.Magnitude < 50 then
				_0xYh = _0xAj2.CFrame
			end
		end
	end
end)

spawn(function()
	while true do
		wait(0.005)
		pcall(function()
			if _0x7g == "" then return end
			local _0xBk2 = _0x5e:FindFirstChild(_0x7g)
			local _0xCl2 = _0x6f.Character
			if _0xBk2 and _0xBk2.Character and _0xCl2 then
				local _0xDm2 = _0xCl2:FindFirstChild("HumanoidRootPart")
				local _0xEn2 = _0xBk2.Character:FindFirstChild("HumanoidRootPart")
				if _0xDm2 and _0xEn2 then
					local _0xFo2 = Vector3.new()
					local _0xGp2 = _0xEn2.CFrame.LookVector
					local _0xHq2 = _0xEn2.CFrame.RightVector
					local _0xIr2 = 3
					if _0x8h == "atras" then _0xFo2 = -_0xGp2 * _0xIr2
					elseif _0x8h == "adelante" then _0xFo2 = _0xGp2 * _0xIr2
					elseif _0x8h == "derecha" then _0xFo2 = _0xHq2 * _0xIr2
					elseif _0x8h == "izquierda" then _0xFo2 = -_0xHq2 * _0xIr2
					elseif _0x8h == "diag_adel_der" then _0xFo2 = (_0xGp2 + _0xHq2).Unit * _0xIr2
					elseif _0x8h == "diag_adel_izq" then _0xFo2 = (_0xGp2 - _0xHq2).Unit * _0xIr2
					elseif _0x8h == "diag_atras_der" then _0xFo2 = (-_0xGp2 + _0xHq2).Unit * _0xIr2
					elseif _0x8h == "diag_atras_izq" then _0xFo2 = (-_0xGp2 - _0xHq2).Unit * _0xIr2 end
					_0xDm2.CFrame = _0xEn2.CFrame + _0xFo2
				end
			end
		end)
	end
end)

_0x4d:NewLabel("TP Loop con 8 direcciones (cambia al reaparecer)")
_0x4d:NewLabel("ðŸŽ¯ Auto Reset si nivel < 1800 (cada 25s)")

local _0xJs2 = _0x2b:NewTab("AutoStats")
local _0xKt2 = _0xJs2:NewSection("Auto distribuciÃ³n de stats")

_G._p1 = 0
_G._p2 = nil

local _0xLu2 = {["Fuerza"]="strength",["EnergÃ­a"]="energy",["Vitalidad"]="vitality",["Metal"]="metalSkin"}

_0xKt2:NewSlider("Puntos a aplicar", "MÃºltiplos de 2", 5000, 0, function(_0xMv2)
	_G._p1 = math.floor(_0xMv2 / 2) * 2
end)

_0xKt2:NewDropdown("Elegir Stat", "Selecciona un stat", {"Fuerza","EnergÃ­a","Vitalidad","Metal"}, function(_0xNw2)
	_G._p2 = _0xLu2[_0xNw2]
end)

_0xKt2:NewButton("Aplicar puntos", "Modo rÃ¡faga (2 por hilo)", function()
	if not _G._p2 then warn("Selecciona un stat vÃ¡lido.") return end
	if _G._p1 < 10 then warn("MÃ­nimo 10 puntos.") return end
	local _0xOx2 = math.floor(_G._p1 / 10)
	for _0xPy2 = 1, _0xOx2 do
		spawn(function()
			for _0xQz2 = 1, 10 do
				game:GetService("ReplicatedStorage").Events.UpgradeAbility:InvokeServer(_G._p2)
			end
		end)
		wait(0.1)
	end
	print("âš¡ Aplicados " .. _G._p1 .. " puntos a " .. _G._p2 .. " en bloques de 2")
end)

local _0xRa2 = _0x2b:NewTab("Auto Reset")
local _0xSb2 = _0xRa2:NewSection("Sistema de Nivel")

_0xSb2:NewLabel("Reset automÃ¡tico si nivel < 1800")

_0xSb2:NewButton("Ver estado actual", "Muestra info del objetivo", function()
	if _0x7g == "" then print("âš ï¸ No hay objetivo detectado aÃºn") return end
	local _0xTc2 = _0xGp()
	if _0xTc2 then
		print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
		print("ðŸŽ¯ Objetivo: " .. _0x7g)
		print("ðŸ“Š Nivel: " .. tostring(_0xTc2))
		print("ðŸ”„ Auto Reset: " .. (_0xAj and "ACTIVO" or "INACTIVO"))
		print("ðŸ“Œ Umbral: " .. _0xBk)
		print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
	else
		print("âš ï¸ No se pudo obtener el nivel de: " .. _0x7g)
	end
end)

_0xSb2:NewToggle("Forzar Auto Reset", "Activar/desactivar manualmente", function(_0xUd2)
	_0xAj = _0xUd2
	if _0xUd2 then print("ðŸ”„ Auto Reset FORZADO - Activado manualmente")
	else print("â›” Auto Reset DESACTIVADO manualmente") end
end)

spawn(function()
	local _0xVe2 = game:GetService("Players")
	local _0xWf2 = game:GetService("CoreGui")

	local function _0xXg2(_0xYh2)
		if not _0xYh2 then return false end
		local _0xZi2 = _0xYh2:lower()
		return string.find(_0xZi2,"leader") or string.find(_0xZi2,"score") or string.find(_0xZi2,"board") or string.find(_0xZi2,"playerlist") or string.find(_0xZi2,"list")
	end

	local function _0xAk3(_0xBl3)
		if not _0xBl3 or not _0xBl3.Name then return false end
		local _0xCm3 = _0xBl3.Name:lower()
		if string.find(_0xCm3,"kavo") or string.find(_0xCm3,"auto tp loop") then return true end
		for _, _0xDn3 in ipairs(_0xBl3:GetDescendants()) do
			if _0xDn3.Name == "TopFrame" or _0xDn3.Name == "MainFrame" or _0xDn3.Name == "TabContainer" then return true end
		end
		return false
	end

	local function _0xEo3(_0xFp3)
		if _0xFp3 == _0x6f then
			pcall(function()
				local _0xGq3 = _0xFp3:FindFirstChild("leaderstats")
				if _0xGq3 then _0xGq3:Destroy() end
			end)
		end
	end

	local function _0xHr3(_0xIs3)
		if not _0xIs3 then return end
		pcall(function()
			for _, _0xJt3 in ipairs(_0xIs3:GetDescendants()) do
				if _0xJt3:IsA("BillboardGui") or _0xJt3:IsA("SurfaceGui") then _0xJt3:Destroy()
				elseif _0xJt3.Name and _0xXg2(_0xJt3.Name) then _0xJt3:Destroy() end
			end
		end)
	end

	local function _0xKu3(_0xLv3)
		pcall(function()
			for _, _0xMw3 in ipairs(_0xLv3:GetChildren()) do
				if _0xMw3:IsA("ScreenGui") then
					if not _0xAk3(_0xMw3) and _0xXg2(_0xMw3.Name) then _0xMw3:Destroy() end
				end
			end
		end)
	end

	local function _0xNx3(_0xOy3)
		if _0xOy3 == _0x6f then _0xEo3(_0xOy3) end
		if _0xOy3.Character then _0xHr3(_0xOy3.Character) end
		_0xOy3.ChildAdded:Connect(function(_0xPz3)
			task.wait(0.05)
			if _0xOy3 == _0x6f and _0xPz3.Name:lower() == "leaderstats" then _0xEo3(_0xOy3) end
		end)
		_0xOy3.CharacterAdded:Connect(function(_0xQa4)
			task.wait(0.1)
			_0xHr3(_0xQa4)
			_0xQa4.DescendantAdded:Connect(function(_0xRb4)
				task.wait(0.05)
				if _0xRb4:IsA("BillboardGui") or _0xRb4:IsA("SurfaceGui") or (_0xRb4.Name and _0xXg2(_0xRb4.Name)) then
					pcall(function() _0xRb4:Destroy() end)
				end
			end)
		end)
	end

	for _, _0xSc4 in ipairs(_0xVe2:GetPlayers()) do _0xNx3(_0xSc4) end
	_0xVe2.PlayerAdded:Connect(function(_0xTd4) task.wait(0.1) _0xNx3(_0xTd4) end)

	while true do
		task.wait(0.3)
		for _, _0xUe4 in ipairs(_0xVe2:GetPlayers()) do
			if _0xUe4 == _0x6f then _0xEo3(_0xUe4) end
			if _0xUe4.Character then _0xHr3(_0xUe4.Character) end
		end
		_0xKu3(_0xWf2)
	end
end)

print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
print("âœ… Script cargado correctamente")
print("ðŸŽ¯ Sistema de Auto Reset activo")
print("ðŸ“Š Umbral de nivel: " .. _0xBk)
print("â±ï¸ Tiempo entre resets: " .. _0xCl .. " segundos")
print("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
